#!/usr/bin/env bash
srcdir=$(cd "$(dirname "$0")"; pwd)
bindir=${srcdir}/bin
casematedir=$(cd "${srcdir}/.."; pwd)
onlinedir=$(cd "${casematedir}/src/lib"; pwd)

mkdir -p ${bindir}/
mkdir -p ${bindir}/tests/

cat <<EOF > config.mk
# Auto-generated, see ./configure script.
SRCDIR = ${srcdir}
BINDIR = ${bindir}
EXPECTEDDIR = ${srcdir}/expected
LOGDIR = ${bindir}/logs
CASEMATEDIR = ${casematedir}
ONLINEDIR = ${onlinedir}
CC = clang
LD = ld
CFLAGS = -I${onlinedir}/include/ -I${srcdir} -g -gdwarf-4
EOF